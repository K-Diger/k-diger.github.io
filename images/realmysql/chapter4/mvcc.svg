<?xml version="1.0" encoding="utf-8"?>
<!-- 배경 -->
<svg xmlns="http://www.w3.org/2000/svg" viewBox="60.118 28.685 361.768 361.081" width="361.768px" height="361.081px">
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="0" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333"/>
    </marker>
  </defs>
  <rect width="1000" height="800" fill="#f8f9fa"/>
  <rect width="361.768" height="361.081" fill="#f8f9fa" x="60.118" y="28.685" style=""
        transform="matrix(1, 0, 0, 1, 2.842170943040401e-14, 0)"/>
  <text x="201.301" y="-241.36" font-family="Arial" font-size="22" text-anchor="middle" font-weight="bold"
        style="white-space: pre; font-size: 22px;"
        transform="matrix(0.45220902562141424, 0, 0, 0.5158290266990662, 149.97200012207037, 168.66600036621097)">InnoDB
    MVCC (Multi-Version Concurrency Control)
  </text>
  <rect x="82.73" y="54.482" width="316.547" height="77.374" fill="#e3f2fd" stroke="#1565c0" stroke-width="2" rx="5"
        style="" transform="matrix(1, 0, 0, 1, 2.842170943040401e-14, 0)"/>
  <text x="201.301" y="-196.36" font-family="Arial" font-size="18" text-anchor="middle" font-weight="bold"
        style="white-space: pre; font-size: 18px;"
        transform="matrix(0.45220902562141424, 0, 0, 0.5158290266990662, 149.97200012207037, 168.66600036621097)">기본 구조:
    시스템 필드
  </text>
  <rect x="105.337" y="77.692" width="271.326" height="46.424" fill="#bbdefb" stroke="#1565c0" stroke-width="1" rx="3"
        style="" transform="matrix(1, 0, 0, 1, 2.842170943040401e-14, 0)"/>
  <rect x="109.864" y="82.851" width="81.397" height="36.108" fill="#90caf9" stroke="#0d47a1" stroke-width="1" rx="2"
        style="" transform="matrix(1, 0, 0, 1, 2.842170943040401e-14, 0)"/>
  <text x="1.301" y="-146.36" font-family="Arial" font-size="16" text-anchor="middle" font-weight="bold"
        style="white-space: pre; font-size: 16px;"
        transform="matrix(0.45220902562141424, 0, 0, 0.5158290266990662, 149.97200012207037, 168.66600036621097)">
    DB_TRX_ID
  </text>
  <text x="1.301" y="-126.36" font-family="Arial" font-size="14" text-anchor="middle"
        style="white-space: pre; font-size: 14px;"
        transform="matrix(0.45220902562141424, 0, 0, 0.5158290266990662, 149.97200012207037, 168.66600036621097)">6바이트
  </text>
  <text x="1.301" y="-106.36" font-family="Arial" font-size="12" text-anchor="middle"
        style="white-space: pre; font-size: 12px;"
        transform="matrix(0.45220902562141424, 0, 0, 0.5158290266990662, 149.97200012207037, 168.66600036621097)">마지막 변경
    트랜잭션 ID
  </text>
  <rect x="200.304" y="82.851" width="81.397" height="36.108" fill="#90caf9" stroke="#0d47a1" stroke-width="1" rx="2"
        style="" transform="matrix(1, 0, 0, 1, 2.842170943040401e-14, 0)"/>
  <text x="201.301" y="-146.36" font-family="Arial" font-size="16" text-anchor="middle" font-weight="bold"
        style="white-space: pre; font-size: 16px;"
        transform="matrix(0.45220902562141424, 0, 0, 0.5158290266990662, 149.97200012207037, 168.66600036621097)">
    DB_ROLL_PTR
  </text>
  <text x="201.301" y="-126.36" font-family="Arial" font-size="14" text-anchor="middle"
        style="white-space: pre; font-size: 14px;"
        transform="matrix(0.45220902562141424, 0, 0, 0.5158290266990662, 149.97200012207037, 168.66600036621097)">7바이트
  </text>
  <text x="201.301" y="-106.36" font-family="Arial" font-size="12" text-anchor="middle"
        style="white-space: pre; font-size: 12px;"
        transform="matrix(0.45220902562141424, 0, 0, 0.5158290266990662, 149.97200012207037, 168.66600036621097)">언두 로그
    레코드 포인터
  </text>
  <rect x="290.746" y="82.851" width="81.397" height="36.108" fill="#90caf9" stroke="#0d47a1" stroke-width="1" rx="2"
        style="" transform="matrix(1, 0, 0, 1, 2.842170943040401e-14, 0)"/>
  <text x="401.301" y="-146.36" font-family="Arial" font-size="16" text-anchor="middle" font-weight="bold"
        style="white-space: pre; font-size: 16px;"
        transform="matrix(0.45220902562141424, 0, 0, 0.5158290266990662, 149.97200012207037, 168.66600036621097)">
    DB_ROW_ID
  </text>
  <text x="401.301" y="-126.36" font-family="Arial" font-size="14" text-anchor="middle"
        style="white-space: pre; font-size: 14px;"
        transform="matrix(0.45220902562141424, 0, 0, 0.5158290266990662, 149.97200012207037, 168.66600036621097)">6바이트
  </text>
  <text x="401.301" y="-106.36" font-family="Arial" font-size="12" text-anchor="middle"
        style="white-space: pre; font-size: 12px;"
        transform="matrix(0.45220902562141424, 0, 0, 0.5158290266990662, 149.97200012207037, 168.66600036621097)">증가하는 행
    ID 값
  </text>
  <rect x="82.73" y="142.17" width="316.547" height="123.799" fill="#e8f5e9" stroke="#2e7d32" stroke-width="2" rx="5"
        style="" transform="matrix(1, 0, 0, 1, 2.842170943040401e-14, 0)"/>
  <text x="201.301" y="-26.363" font-family="Arial" font-size="18" text-anchor="middle" font-weight="bold"
        style="white-space: pre; font-size: 18px;"
        transform="matrix(0.45220902562141424, 0, 0, 0.5158290266990662, 149.97200012207037, 168.66600036621097)">데이터 변경
    과정
  </text>
  <rect x="100.816" y="167.963" width="90.442" height="36.108" fill="#c8e6c9" stroke="#2e7d32" stroke-width="1" rx="3"
        style="" transform="matrix(1, 0, 0, 1, 2.842170943040401e-14, 0)"/>
  <text x="-8.699" y="18.637" font-family="Arial" font-size="16" text-anchor="middle" font-weight="bold"
        style="white-space: pre; font-size: 16px;"
        transform="matrix(0.45220902562141424, 0, 0, 0.5158290266990662, 149.97200012207037, 168.66600036621097)">1. 변경
    전 데이터
  </text>
  <text x="-8.699" y="43.637" font-family="Arial" font-size="14" text-anchor="middle"
        style="white-space: pre; font-size: 14px;"
        transform="matrix(0.45220902562141424, 0, 0, 0.5158290266990662, 149.97200012207037, 168.66600036621097)">
    Name=Kim, Age=30
  </text>
  <text x="-8.699" y="63.637" font-family="Arial" font-size="12" text-anchor="middle"
        style="white-space: pre; font-size: 12px;"
        transform="matrix(0.45220902562141424, 0, 0, 0.5158290266990662, 149.97200012207037, 168.66600036621097)">
    TRX_ID=100
  </text>
  <path d="M 191.26 183.438 L 201.491 183.438" fill="none" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"
        style="" transform="matrix(1, 0, 0, 1, 2.842170943040401e-14, 0)"/>
  <text x="111.301" y="18.637" font-family="Arial" font-size="12" style="white-space: pre; font-size: 12px;"
        transform="matrix(0.45220902562141424, 0, 0, 0.5158290266990662, 141.26400756835943, 159.91900634765628)">UPDATE
  </text>
  <rect x="213.871" y="167.963" width="90.442" height="36.108" fill="#c8e6c9" stroke="#2e7d32" stroke-width="1" rx="3"
        style="" transform="matrix(1, 0, 0, 1, 2.842170943040401e-14, 0)"/>
  <text x="241.301" y="18.637" font-family="Arial" font-size="16" text-anchor="middle" font-weight="bold"
        style="white-space: pre; font-size: 16px;"
        transform="matrix(0.45220902562141424, 0, 0, 0.5158290266990662, 149.97200012207037, 168.66600036621097)">2. 변경
    후 데이터
  </text>
  <text x="241.301" y="43.637" font-family="Arial" font-size="14" text-anchor="middle"
        style="white-space: pre; font-size: 14px;"
        transform="matrix(0.45220902562141424, 0, 0, 0.5158290266990662, 149.97200012207037, 168.66600036621097)">
    Name=Kim, Age=35
  </text>
  <text x="241.301" y="63.637" font-family="Arial" font-size="12" text-anchor="middle"
        style="white-space: pre; font-size: 12px;"
        transform="matrix(0.45220902562141424, 0, 0, 0.5158290266990662, 149.69599914550787, 168.3320007324219)">
    TRX_ID=101
  </text>
  <path d="M 257.684 203.823 L 257.663 204.823" fill="none" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"
        style="" transform="matrix(1, 0, 0, 1, 2.842170943040401e-14, 0)"/>
  <text x="201.301" y="88.637" font-family="Arial" font-size="12" style="white-space: pre; font-size: 12px;"
        transform="matrix(0.45220902562141424, 0, 0, 0.5158290266990662, 116.04699707031256, 169.0350036621094)">
    DB_ROLL_PTR
  </text>
  <rect x="213.871" y="224.704" width="90.442" height="36.108" fill="#a5d6a7" stroke="#2e7d32" stroke-width="1" rx="3"
        style="" transform="matrix(1, 0, 0, 1, 2.842170943040401e-14, 0)"/>
  <text x="241.301" y="128.637" font-family="Arial" font-size="16" text-anchor="middle" font-weight="bold"
        style="white-space: pre; font-size: 16px;"
        transform="matrix(0.45220902562141424, 0, 0, 0.5158290266990662, 149.97200012207037, 168.66600036621097)">3. 언두
    로그 저장
  </text>
  <text x="241.301" y="153.637" font-family="Arial" font-size="14" text-anchor="middle"
        style="white-space: pre; font-size: 14px;"
        transform="matrix(0.45220902562141424, 0, 0, 0.5158290266990662, 149.97200012207037, 168.66600036621097)">
    Name=Kim, Age=30
  </text>
  <text x="241.301" y="173.637" font-family="Arial" font-size="12" text-anchor="middle"
        style="white-space: pre; font-size: 12px;"
        transform="matrix(0.45220902562141424, 0, 0, 0.5158290266990662, 149.97200012207037, 168.66600036621097)">
    TRX_ID=100
  </text>
  <rect x="82.73" y="276.287" width="316.547" height="103.166" fill="#fff3e0" stroke="#e65100" stroke-width="2" rx="5"
        style="" transform="matrix(1, 0, 0, 1, 2.842170943040401e-14, 0)"/>
  <text x="201.301" y="233.637" font-family="Arial" font-size="18" text-anchor="middle" font-weight="bold"
        style="white-space: pre; font-size: 18px;"
        transform="matrix(0.45220902562141424, 0, 0, 0.5158290266990662, 149.97200012207037, 168.66600036621097)">읽기 작업
    처리
  </text>
  <rect x="105.337" y="302.079" width="113.053" height="67.058" fill="#ffe0b2" stroke="#e65100" stroke-width="1" rx="3"
        style="" transform="matrix(1, 0, 0, 1, 2.842170943040401e-14, 0)"/>
  <text x="26.301" y="283.637" font-family="Arial" font-size="16" text-anchor="middle" font-weight="bold"
        style="white-space: pre; font-size: 16px;"
        transform="matrix(0.45220902562141424, 0, 0, 0.5158290266990662, 149.97200012207037, 168.66600036621097)">트랜잭션 A
    (TRX_ID=99)
  </text>
  <text x="26.301" y="308.637" font-family="Arial" font-size="14" text-anchor="middle"
        style="white-space: pre; font-size: 14px;"
        transform="matrix(0.45220902562141424, 0, 0, 0.5158290266990662, 149.97200012207037, 168.66600036621097)">UPDATE
    전에 시작됨
  </text>
  <text x="26.301" y="333.637" font-family="Arial" font-size="14" text-anchor="middle"
        style="white-space: pre; font-size: 14px;"
        transform="matrix(0.45220902562141424, 0, 0, 0.5158290266990662, 149.97200012207037, 168.66600036621097)">
    DB_TRX_ID &gt; 현재 트랜잭션 ID
  </text>
  <text x="26.301" y="358.637" font-family="Arial" font-size="14" text-anchor="middle"
        style="white-space: pre; font-size: 14px;"
        transform="matrix(0.45220902562141424, 0, 0, 0.5158290266990662, 149.97200012207037, 168.66600036621097)">언두
    로그에서 이전 버전 읽음
  </text>
  <text x="26.301" y="378.637" font-family="Arial" font-size="12" text-anchor="middle"
        style="white-space: pre; font-size: 12px;"
        transform="matrix(0.45220902562141424, 0, 0, 0.5158290266990662, 149.97200012207037, 168.66600036621097)">
    (Name=Kim, Age=30)
  </text>
  <rect x="263.613" y="302.079" width="113.053" height="67.058" fill="#ffe0b2" stroke="#e65100" stroke-width="1" rx="3"
        style="" transform="matrix(1, 0, 0, 1, 2.842170943040401e-14, 0)"/>
  <text x="376.301" y="283.637" font-family="Arial" font-size="16" text-anchor="middle" font-weight="bold"
        style="white-space: pre; font-size: 16px;"
        transform="matrix(0.45220902562141424, 0, 0, 0.5158290266990662, 149.97200012207037, 168.66600036621097)">트랜잭션 C
    (TRX_ID=102)
  </text>
  <text x="376.301" y="308.637" font-family="Arial" font-size="14" text-anchor="middle"
        style="white-space: pre; font-size: 14px;"
        transform="matrix(0.45220902562141424, 0, 0, 0.5158290266990662, 149.97200012207037, 168.66600036621097)">UPDATE
    후에 시작됨
  </text>
  <text x="376.301" y="333.637" font-family="Arial" font-size="14" text-anchor="middle"
        style="white-space: pre; font-size: 14px;"
        transform="matrix(0.45220902562141424, 0, 0, 0.5158290266990662, 149.97200012207037, 168.66600036621097)">현재 커밋된
    데이터 읽음
  </text>
  <text x="376.301" y="378.637" font-family="Arial" font-size="12" text-anchor="middle"
        style="white-space: pre; font-size: 12px;"
        transform="matrix(0.45220902562141424, 0, 0, 0.5158290266990662, 149.97200012207037, 168.66600036621097)">
    (Name=Kim, Age=35)
  </text>
  <path d="M 173.171 302.079 L 213.871 247.917" fill="none" stroke="#1b5e20" stroke-width="2" stroke-dasharray="5,5"
        marker-end="url(#arrowhead)" style="" transform="matrix(1, 0, 0, 1, 2.842170943040401e-14, 0)"/>
  <text x="81.301" y="208.637" font-family="Arial" font-size="12" fill="#1b5e20"
        style="white-space: pre; font-size: 12px;"
        transform="matrix(0.45220902562141424, 0, 0, 0.5158290266990662, 130.03799438476568, 166.50799560546878)">스냅샷 읽기
  </text>
  <path d="M 297.529 302.079 C 297.529 302.079 401.569 212.121 324.776 191.209" fill="none" stroke="#bf360c"
        stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead)" style=""
        transform="matrix(1, 0, 0, 1, 2.842170943040401e-14, 0)"/>
  <text style="white-space: pre; font-size: 12px;"
        transform="matrix(0.45220902562141424, 0, 0, 0.5158290266990662, 146.73599243164068, 189.23100280761722)"
        x="311.301" y="163.637" font-size="12" font-family="Arial" fill="#bf360c">최신 데이터 읽기
  </text>
  <rect x="132.472" y="369.136" width="217.061" height="15.475" fill="#e0e0e0" stroke="#616161" stroke-width="2" rx="5"
        style="" transform="matrix(1, 0, 0, 1, 2.842170943040401e-14, 0)"/>
  <text x="201.301" y="408.637" font-family="Arial" font-size="12" text-anchor="middle"
        style="white-space: pre; font-size: 12px;"
        transform="matrix(0.45220902562141424, 0, 0, 0.5158290266990662, 149.97200012207037, 168.66600036621097)">삭제 작업도
    삭제 마커로 표시되며, 퍼지 작업을 통해 나중에 물리적으로 제거됨
  </text>
</svg>
